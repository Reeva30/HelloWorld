name: Qt VS Add-in Setup (Windows)

on:
  push: # Trigger the workflow on pushes

jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3 # Checkout the repository code
      - name: Install Visual Studio Build Tools
        uses: microsoft/windows-update@v1.1
        with:
          updates: 'BuildTools-2022'
      - name: Install Visual Studio 2022 C++ Desktop workload
        shell: powershell
        run: |
          Install-Product -Name VisualStudio.Desktop.Cpp.Workload -IncludeRecommended -Wait -Source https://visualstudio.microsoft.com/downloads/
      - name: Download Qt VS Add-in (version 3.0.2)
        uses: actions/download@v3
        with:
          url: https://download.qt.io/development_releases/vsaddin/3.0.2/qt-vsaddin-msvc2022-3.0.2.vsix  # Specific version for Qt VS Add-in
          dest: .\
      - name: Install Qt VS Add-in
        run: |
          code --install-extension .\qt-vsaddin-msvc2022-3.0.2.vsix
